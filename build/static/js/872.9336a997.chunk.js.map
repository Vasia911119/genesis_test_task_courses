{"version":3,"file":"static/js/872.9336a997.chunk.js","mappings":"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","sources":["pages/CoursePage.jsx","services/api.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Link, useParams } from \"react-router-dom\";\r\nimport { getCourseById } from \"../services/api\";\r\nimport ReactPlayer from \"react-player\";\r\n\r\nconst CoursesPage = () => {\r\n  const params = useParams();\r\n  const [course, setCourse] = useState([]);\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      const courseData = await getCourseById(params.courseId);\r\n      setCourse(courseData);\r\n    }\r\n    fetchData();\r\n  }, [params.courseId]);\r\n\r\n  return (\r\n    <>\r\n      <Link to=\"/courses\">Back to courses</Link>\r\n      {course && course.lessons && course.lessons[0] && (\r\n        <ReactPlayer\r\n          url={course.lessons[0].link}\r\n          controls={true}\r\n          width=\"100%\"\r\n          height=\"auto\"\r\n        />\r\n        // <video width=\"750\" heigth=\"500\" controls>\r\n        //   <source src={course.lessons[0].link} type=\"video/m3u8\" />\r\n        //   Sorry, your brovser doesn't support videos.\r\n        // </video>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default CoursesPage;\r\n","import axios from \"axios\";\r\n\r\nconst API_BASE_URL = \"https://api.wisey.app/api/v1\";\r\n\r\nasync function getToken() {\r\n  if (\r\n    !localStorage.getItem(\"wiseyToken\") ||\r\n    localStorage.getItem(\"wiseyToken\") === \"\"\r\n  ) {\r\n    const response = await axios.get(\r\n      `${API_BASE_URL}/auth/anonymous?platform=subscriptions`\r\n    );\r\n    const token = response.data.token;\r\n    localStorage.setItem(\"wiseyToken\", token);\r\n    return token;\r\n  } else {\r\n    const token = localStorage.getItem(\"wiseyToken\");\r\n    return token;\r\n  }\r\n}\r\n\r\nexport async function getCourses() {\r\n  const token = await getToken();\r\n  const headers = { Authorization: `Bearer ${token}` };\r\n  const response = await axios.get(`${API_BASE_URL}/core/preview-courses`, {\r\n    headers,\r\n  });\r\n  return response.data;\r\n}\r\n\r\nexport async function getCourseById(courseId) {\r\n  const token = await getToken();\r\n  const headers = { Authorization: `Bearer ${token}` };\r\n  const response = await axios.get(\r\n    `${API_BASE_URL}/core/preview-courses/${courseId}`,\r\n    { headers }\r\n  );\r\n  return response.data;\r\n}\r\n\r\nexport async function getLessonsForCourse(courseId) {\r\n  const token = await getToken();\r\n  const headers = { Authorization: `Bearer ${token}` };\r\n  const response = await axios.get(\r\n    `${API_BASE_URL}/core/preview-courses/${courseId}/lessons`,\r\n    { headers }\r\n  );\r\n  return response.data;\r\n}\r\n\r\nexport async function getLessonById(id) {\r\n  const token = await getToken();\r\n  const headers = { Authorization: `Bearer ${token}` };\r\n  const response = await axios.get(`${API_BASE_URL}/lessons/${id}`, {\r\n    headers,\r\n  });\r\n  return response.data;\r\n}\r\n"],"names":["params","useParams","_useState","useState","_useState2","_slicedToArray","course","setCourse","useEffect","_fetchData","_asyncToGenerator","_regeneratorRuntime","mark","_callee","courseData","wrap","_context","prev","next","getCourseById","courseId","sent","stop","apply","arguments","fetchData","_jsxs","_Fragment","children","_jsx","Link","to","lessons","ReactPlayer","url","link","controls","width","height","API_BASE_URL","getToken","_getToken","response","token","_token","localStorage","getItem","axios","concat","data","setItem","abrupt","getCourses","_getCourses","_callee2","headers","_context2","Authorization","_x","_getCourseById","_callee3","_context3"],"sourceRoot":""}