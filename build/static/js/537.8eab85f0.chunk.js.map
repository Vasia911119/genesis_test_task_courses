{"version":3,"file":"static/js/537.8eab85f0.chunk.js","mappings":"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","sources":["pages/CoursePage/CoursePage.jsx","services/api.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Link, useParams } from \"react-router-dom\";\r\nimport { getCourseById } from \"../../services/api\";\r\nimport Spinner from \"../../components/Spinner/Spinner\";\r\n\r\nconst CoursesPage = () => {\r\n  const params = useParams();\r\n  const [course, setCourse] = useState([]);\r\n  const [videoUrl, setVideoUrl] = useState(\"\");\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      setIsLoading(true);\r\n      const courseData = await getCourseById(params.courseId);\r\n      setCourse(courseData);\r\n      setVideoUrl(courseData.meta.courseVideoPreview.link);\r\n      setIsLoading(false);\r\n    }\r\n    fetchData();\r\n  }, [params.courseId]);\r\n  console.log(course);\r\n  console.log(videoUrl);\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      {isLoading ? (\r\n        <Spinner />\r\n      ) : (\r\n        <>\r\n          <Link to=\"/courses\">Back to courses</Link>\r\n          <video width=\"750\" heigth=\"500\" controls={true} preload=\"auto\">\r\n            <source src={videoUrl} type=\"application/x-mpegURL\" />\r\n            Sorry, your brovser doesn't support videos.\r\n          </video>\r\n          <h2>{course.title}</h2>\r\n          <p>Launch data: {course.launchDate}</p>\r\n          <p>Status: {course.status}</p>\r\n          <p>{course.description}</p>\r\n          <p>Duration: {course.duration} min</p>\r\n          <img\r\n            width={750}\r\n            src={course.previewImageLink + \"/cover.webp\"}\r\n            alt={course.title}\r\n          />\r\n          <p>Rating: {course.rating}</p>\r\n          <p>Skills:</p>\r\n          <ul>\r\n            {course?.meta?.skills?.map((skill, index) => (\r\n              <li key={index}>{skill}</li>\r\n            ))}\r\n          </ul>\r\n          <p>Lessons:</p>\r\n          <ol>\r\n            {course?.lessons?.map((lesson, index) => (\r\n              <li key={index}>\r\n                {lesson.status === \"locked\" ? (\r\n                  <Link\r\n                    onClick={(e) => e.preventDefault()}\r\n                    style={{\r\n                      color: \"gray\",\r\n                      textDecoration: \"none\",\r\n                      cursor: \"default\",\r\n                    }}\r\n                  >\r\n                    {lesson.title}\r\n                    {\"\\u0020\\u{1F512}\"}\r\n                  </Link>\r\n                ) : (\r\n                  <Link>{lesson.title}</Link>\r\n                )}\r\n              </li>\r\n            ))}\r\n          </ol>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CoursesPage;\r\n","import axios from \"axios\";\r\n\r\nconst API_BASE_URL = \"https://api.wisey.app/api/v1\";\r\n\r\nasync function getToken() {\r\n  if (\r\n    !localStorage.getItem(\"wiseyToken\") ||\r\n    localStorage.getItem(\"wiseyToken\") === \"\"\r\n  ) {\r\n    const response = await axios.get(\r\n      `${API_BASE_URL}/auth/anonymous?platform=subscriptions`\r\n    );\r\n    const token = response.data.token;\r\n    localStorage.setItem(\"wiseyToken\", token);\r\n    return token;\r\n  } else {\r\n    const token = localStorage.getItem(\"wiseyToken\");\r\n    return token;\r\n  }\r\n}\r\n\r\nexport async function getCourses() {\r\n  const token = await getToken();\r\n  const headers = { Authorization: `Bearer ${token}` };\r\n  const response = await axios.get(`${API_BASE_URL}/core/preview-courses`, {\r\n    headers,\r\n  });\r\n  return response.data;\r\n}\r\n\r\nexport async function getCourseById(courseId) {\r\n  const token = await getToken();\r\n  const headers = { Authorization: `Bearer ${token}` };\r\n  const response = await axios.get(\r\n    `${API_BASE_URL}/core/preview-courses/${courseId}`,\r\n    { headers }\r\n  );\r\n  return response.data;\r\n}\r\n\r\nexport async function getLessonsForCourse(courseId) {\r\n  const token = await getToken();\r\n  const headers = { Authorization: `Bearer ${token}` };\r\n  const response = await axios.get(\r\n    `${API_BASE_URL}/core/preview-courses/${courseId}/lessons`,\r\n    { headers }\r\n  );\r\n  return response.data;\r\n}\r\n\r\nexport async function getLessonById(id) {\r\n  const token = await getToken();\r\n  const headers = { Authorization: `Bearer ${token}` };\r\n  const response = await axios.get(`${API_BASE_URL}/lessons/${id}`, {\r\n    headers,\r\n  });\r\n  return response.data;\r\n}\r\n"],"names":["_course$meta","_course$meta$skills","_course$lessons","params","useParams","_useState","useState","_useState2","_slicedToArray","course","setCourse","_useState3","_useState4","videoUrl","setVideoUrl","_useState5","_useState6","isLoading","setIsLoading","useEffect","_fetchData","_asyncToGenerator","_regeneratorRuntime","mark","_callee","courseData","wrap","_context","prev","next","getCourseById","courseId","sent","meta","courseVideoPreview","link","stop","apply","arguments","fetchData","console","log","_jsx","className","children","Spinner","_jsxs","_Fragment","Link","to","width","heigth","controls","preload","src","type","title","launchDate","status","description","duration","previewImageLink","alt","rating","skills","map","skill","index","lessons","lesson","onClick","e","preventDefault","style","color","textDecoration","cursor","API_BASE_URL","getToken","_getToken","response","token","_token","localStorage","getItem","axios","concat","data","setItem","abrupt","getCourses","_getCourses","_callee2","headers","_context2","Authorization","_x","_getCourseById","_callee3","_context3"],"sourceRoot":""}